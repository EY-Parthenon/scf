---
name: autoscaler-create-service

description: This job will register the autoscaler with cf

packages:
  - cli
  - ruby-2.3
  - service-registration-utils

templates:
  run.erb: bin/run

properties:
  autoscaler_api.scaling_service.name:
    description: the autoscaler service name
  autoscaler_servicebroker.auth.username:
    description: Username for the service broker
  autoscaler_servicebroker.auth.password:
    description: Password for the service broker
  autoscaler_servicebroker.host:
    description: Host of the service broker
  cc.srv_api_uri:
    description: The cloudcontroller's api endpoint
  hcf.uaa.internal-url:
    description: URL to UAA that can be accessed before the cluster's domain is setup
  ssl.skip_cert_verify:
    description: True for insecure connections
  tomcat.http.autoscaler_servicebroker.port:
    description: Port the route service listens on
  uaa.clients.hcf_auto_config.secret:
    description: The secret for the UAA client to set up autoscaler service
