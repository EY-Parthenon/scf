if [ -z "${GIT_ROOT:-}" ] ; then
    # This file should only be sourced, so ${BASH_SOURCE} should be set.
    GIT_ROOT=$(dirname $(cd $(dirname "${BASH_SOURCE[0]}") && echo ${PWD}))
fi

# The Docker repository name used for images
export FISSILE_REPOSITORY=fissile

# This is a comma separated list of paths to the local repositories
# of all the releases that make up HCF

FISSILE_RELEASE=''
for RELEASE in $(echo '
      cf-release
      cf-usb/cf-usb-release
      diego-release
      etcd-release
      garden-runc-release
      cf-mysql-release
      cflinuxfs2-rootfs-release
      routing-release
      hcf-release
      hcf-sso/hcf-sso-release
      hcf-versions/hcf-versions-release
      windows-runtime-release
      open-Autoscaler/bosh-release
      '); do
    FISSILE_RELEASE="${FISSILE_RELEASE},${GIT_ROOT}/src/${RELEASE}"
done
export FISSILE_RELEASE="$(echo ${FISSILE_RELEASE} | sed 's/,//')"

# This is a comma separated list of dev release names
# Ordering of the names needs to match the list in FISSILE_DEV_RELEASE
# Set this only if you're using custom dev release names
export FISSILE_RELEASE_NAME=

# This is a comma separated list of dev release versions
# Ordering of the versions needs to match the list in FISSILE_DEV_RELEASE
# Set this only if you need to use specific versions (as opposed to latest)
export FISSILE_RELEASE_VERSION=

# Path to an HCF role manifest
export FISSILE_ROLE_MANIFEST="${GIT_ROOT}/container-host-files/etc/hcf/config/role-manifest.yml"

# Path to a BOSH deployment manifest that contains light opinions
export FISSILE_LIGHT_OPINIONS="${GIT_ROOT}/container-host-files/etc/hcf/config/opinions.yml"

# Path to a BOSH deployment manifest that contains dark opinions
export FISSILE_DARK_OPINIONS="${GIT_ROOT}/container-host-files/etc/hcf/config/dark-opinions.yml"

# Path to a location where all fissile output is stored
export FISSILE_WORK_DIR="${HOME}/.fissile/"

# This is the location of the local BOSH cache
# You shouldn't need to override this
export FISSILE_CACHE_DIR="${HOME}/.bosh/cache"

# Path to a configgin release tarball
export FISSILE_CONFIGGIN="${HOME}/tools/configgin.tgz"

# This is the configuration base prefix
export FISSILE_CONFIG_PREFIX=hcf

# The number of workers to use when compiling packages
# export FISSILE_COMPILATION_WORKER_COUNT=2

# General number of workers to use.
# export FISSILE_WORKER_COUNT=1

# Default consul address used by Docker images
# export FISSILE_DEFAULT_CONSUL_ADDRESS=http://127.0.0.1:8500

# Default consul configuration store prefix used by run.sh in images
# export FISSILE_DEFAULT_CONFIG_STORE_PREFIX=hcf

# A boolean flag to (de)activate behaviour helping with debugging.
# Currently this means that containers are kept when their build
# fails.
# export FISSILE_DEBUG=0

# A boolean flag. When set only images available on docker are shown.
# export FISSILE_DOCKER_ONLY=0

# A boolean flag. If set, image virtual sizes are also shown; this
# only works if FISSILE_DOCKER_ONLY is set.
# export FISSILE_WITH_SIZES=0

# A boolean flag. When set image creation will proceed even when they
# already exist.
# export FISSILE_FORCE=0

# A boolean flag. When set the Dockerfile and assets will be created,
# but the image won't be built.
# export FISSILE_NO_BUILD=0

# Provider to use when generating the configuration base.
# export FISSILE_PROVIDER="dirtree"

# Default version label for the created images
# export FISSILE_VERSION=
